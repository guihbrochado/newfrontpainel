{"version":3,"file":"NavItem-YjHbLWYX.js","sources":["../../node_modules/@restart/ui/esm/TabContext.js","../../node_modules/@restart/ui/esm/NavItem.js"],"sourcesContent":["import * as React from 'react';\nconst TabContext = /*#__PURE__*/React.createContext(null);\nexport default TabContext;","const _excluded = [\"as\", \"active\", \"eventKey\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport NavContext from './NavContext';\nimport SelectableContext, { makeEventKey } from './SelectableContext';\nimport Button from './Button';\nimport { dataAttr } from './DataKey';\nimport TabContext from './TabContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useNavItem({\n  key,\n  onClick,\n  active,\n  id,\n  role,\n  disabled\n}) {\n  const parentOnSelect = useContext(SelectableContext);\n  const navContext = useContext(NavContext);\n  const tabContext = useContext(TabContext);\n  let isActive = active;\n  const props = {\n    role\n  };\n  if (navContext) {\n    if (!role && navContext.role === 'tablist') props.role = 'tab';\n    const contextControllerId = navContext.getControllerId(key != null ? key : null);\n    const contextControlledId = navContext.getControlledId(key != null ? key : null);\n\n    // @ts-ignore\n    props[dataAttr('event-key')] = key;\n    props.id = contextControllerId || id;\n    isActive = active == null && key != null ? navContext.activeKey === key : active;\n\n    /**\n     * Simplified scenario for `mountOnEnter`.\n     *\n     * While it would make sense to keep 'aria-controls' for tabs that have been mounted at least\n     * once, it would also complicate the code quite a bit, for very little gain.\n     * The following implementation is probably good enough.\n     *\n     * @see https://github.com/react-restart/ui/pull/40#issuecomment-1009971561\n     */\n    if (isActive || !(tabContext != null && tabContext.unmountOnExit) && !(tabContext != null && tabContext.mountOnEnter)) props['aria-controls'] = contextControlledId;\n  }\n  if (props.role === 'tab') {\n    props['aria-selected'] = isActive;\n    if (!isActive) {\n      props.tabIndex = -1;\n    }\n    if (disabled) {\n      props.tabIndex = -1;\n      props['aria-disabled'] = true;\n    }\n  }\n  props.onClick = useEventCallback(e => {\n    if (disabled) return;\n    onClick == null ? void 0 : onClick(e);\n    if (key == null) {\n      return;\n    }\n    if (parentOnSelect && !e.isPropagationStopped()) {\n      parentOnSelect(key, e);\n    }\n  });\n  return [props, {\n    isActive\n  }];\n}\nconst NavItem = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n      as: Component = Button,\n      active,\n      eventKey\n    } = _ref,\n    options = _objectWithoutPropertiesLoose(_ref, _excluded);\n  const [props, meta] = useNavItem(Object.assign({\n    key: makeEventKey(eventKey, options.href),\n    active\n  }, options));\n\n  // @ts-ignore\n  props[dataAttr('active')] = meta.isActive;\n  return /*#__PURE__*/_jsx(Component, Object.assign({}, options, props, {\n    ref: ref\n  }));\n});\nNavItem.displayName = 'NavItem';\nexport default NavItem;"],"names":["TabContext","React.createContext","_excluded","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","key","i","useNavItem","onClick","active","id","role","disabled","parentOnSelect","useContext","SelectableContext","navContext","NavContext","tabContext","isActive","props","contextControllerId","contextControlledId","dataAttr","useEventCallback","e","NavItem","React.forwardRef","_ref","ref","Component","Button","eventKey","options","meta","makeEventKey","_jsx"],"mappings":"+LACK,MAACA,EAA0BC,EAAmB,cAAC,IAAI,ECDlDC,EAAY,CAAC,KAAM,SAAU,UAAU,EAC7C,SAASC,EAA8BC,EAAQC,EAAU,CAAE,GAAID,GAAU,KAAM,MAAO,CAAE,EAAE,IAAIE,EAAS,CAAE,EAAMC,EAAa,OAAO,KAAKH,CAAM,EAAOI,EAAKC,EAAG,IAAKA,EAAI,EAAGA,EAAIF,EAAW,OAAQE,IAAOD,EAAMD,EAAWE,CAAC,EAAO,EAAAJ,EAAS,QAAQG,CAAG,GAAK,KAAaF,EAAOE,CAAG,EAAIJ,EAAOI,CAAG,GAAK,OAAOF,CAAO,CAU1S,SAASI,EAAW,CACzB,IAAAF,EACA,QAAAG,EACA,OAAAC,EACA,GAAAC,EACA,KAAAC,EACA,SAAAC,CACF,EAAG,CACD,MAAMC,EAAiBC,EAAU,WAACC,CAAiB,EAC7CC,EAAaF,EAAU,WAACG,CAAU,EAClCC,EAAaJ,EAAU,WAACjB,CAAU,EACxC,IAAIsB,EAAWV,EACf,MAAMW,EAAQ,CACZ,KAAAT,CACD,EACD,GAAIK,EAAY,CACV,CAACL,GAAQK,EAAW,OAAS,YAAWI,EAAM,KAAO,OACzD,MAAMC,EAAsBL,EAAW,gBAAgBX,GAAoB,IAAI,EACzEiB,EAAsBN,EAAW,gBAAgBX,GAAoB,IAAI,EAG/Ee,EAAMG,EAAS,WAAW,CAAC,EAAIlB,EAC/Be,EAAM,GAAKC,GAAuBX,EAClCS,EAAWV,GAAU,MAAQJ,GAAO,KAAOW,EAAW,YAAcX,EAAMI,GAWtEU,GAAY,EAAED,GAAc,MAAQA,EAAW,gBAAkB,EAAEA,GAAc,MAAQA,EAAW,iBAAeE,EAAM,eAAe,EAAIE,EACpJ,CACE,OAAIF,EAAM,OAAS,QACjBA,EAAM,eAAe,EAAID,EACpBA,IACHC,EAAM,SAAW,IAEfR,IACFQ,EAAM,SAAW,GACjBA,EAAM,eAAe,EAAI,KAG7BA,EAAM,QAAUI,EAAiBC,GAAK,CAChCb,IACJJ,GAAW,MAAgBA,EAAQiB,CAAC,EAChCpB,GAAO,MAGPQ,GAAkB,CAACY,EAAE,wBACvBZ,EAAeR,EAAKoB,CAAC,EAE3B,CAAG,EACM,CAACL,EAAO,CACb,SAAAD,CACJ,CAAG,CACH,CACK,MAACO,EAAuBC,EAAgB,WAAC,CAACC,EAAMC,IAAQ,CAC3D,GAAI,CACA,GAAIC,EAAYC,EAChB,OAAAtB,EACA,SAAAuB,CACN,EAAQJ,EACJK,EAAUjC,EAA8B4B,EAAM7B,CAAS,EACzD,KAAM,CAACqB,EAAOc,CAAI,EAAI3B,EAAW,OAAO,OAAO,CAC7C,IAAK4B,EAAaH,EAAUC,EAAQ,IAAI,EACxC,OAAAxB,CACD,EAAEwB,CAAO,CAAC,EAGX,OAAAb,EAAMG,EAAS,QAAQ,CAAC,EAAIW,EAAK,SACbE,EAAAA,IAAKN,EAAW,OAAO,OAAO,CAAE,EAAEG,EAASb,EAAO,CACpE,IAAKS,CACT,CAAG,CAAC,CACJ,CAAC,EACDH,EAAQ,YAAc","x_google_ignoreList":[0,1]}