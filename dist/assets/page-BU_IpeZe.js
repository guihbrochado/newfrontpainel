import{m as f,b as _,r as o,j as e,R as n,d as i,C as s,g as b}from"./index-UUiNTc0V.js";import{P as y}from"./PageMetaData-D364TxUJ.js";import{A as P}from"./Alert-CmRbplvD.js";import"./hook-QqkXmZtl.js";import"./extends-CF3RwP-h.js";import"./Anchor-CMDYpN7l.js";import"./Button-CuaOUBT4.js";const R=()=>{var h,p;const{postId:l}=f(),{user:c,loading:a}=_(),[r,g]=o.useState(null),[d,u]=o.useState("");return o.useEffect(()=>{if(a||!c){u("Usuário não autenticado.");return}(async()=>{var m,x;try{const t=localStorage.getItem("token"),j=await b.get(`https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/posts/${l}`,{headers:{Authorization:`Bearer ${t}`}});console.log("Detalhes do post:",j.data),g(j.data.data)}catch(t){console.error("Erro ao buscar post:",t),u(((x=(m=t.response)==null?void 0:m.data)==null?void 0:x.message)||"Erro ao carregar o post.")}})()},[l,c,a]),d?e.jsx(n,{className:"justify-content-center",children:e.jsx(i,{md:12,lg:12,children:e.jsx(P,{variant:"danger",children:d})})}):a||!r?e.jsx(n,{className:"justify-content-center",children:e.jsx(i,{md:12,lg:12,children:e.jsx("div",{children:"Carregando..."})})}):e.jsxs(e.Fragment,{children:[e.jsx(y,{title:`Visualizar Post - ${r.title}`}),e.jsx(n,{className:"justify-content-center",children:e.jsx(i,{md:12,lg:10,children:e.jsxs(s,{className:"mb-4",children:[e.jsxs(s.Header,{children:[e.jsx("h3",{children:r.title}),e.jsxs("small",{children:["Autor: ",((h=r.user)==null?void 0:h.name)||"Desconhecido"]})]}),e.jsxs(s.Body,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Categoria:"})," ",((p=r.category)==null?void 0:p.name)||"Sem categoria"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),r.image&&e.jsx("img",{src:`https://webapp396758.ip-45-33-113-78.cloudezapp.io/storage/${r.image}`,alt:r.title,style:{maxWidth:"100%",marginBottom:"15px"}}),r.video_url&&e.jsxs("p",{children:[e.jsx("strong",{children:"Video URL:"})," ",e.jsx("a",{href:r.video_url,target:"_blank",rel:"noopener noreferrer",children:r.video_url})]}),r.audio_url&&e.jsxs("p",{children:[e.jsx("strong",{children:"Audio URL:"})," ",e.jsx("a",{href:r.audio_url,target:"_blank",rel:"noopener noreferrer",children:r.audio_url})]}),e.jsx("div",{dangerouslySetInnerHTML:{__html:r.content}})]}),e.jsx(s.Footer,{children:e.jsxs("small",{children:["Publicado em: ",new Date(r.created_at).toLocaleDateString()]})})]})})})]})};export{R as default};
//# sourceMappingURL=page-BU_IpeZe.js.map
