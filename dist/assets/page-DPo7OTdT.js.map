{"version":3,"file":"page-DPo7OTdT.js","sources":["../../src/app/(admin)/posts/visualizar/[id]/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Row, Col, Card, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuthContext } from \"@/context/AuthContext\";\nimport PageMetaData from \"@/components/PageMetaData\";\n\nconst VisualizarPost = () => {\n  const { postId } = useParams();\n  const { user, loading } = useAuthContext();\n  const [post, setPost] = useState(null);\n  const [error, setError] = useState(\"\");\n  //const [message, setMessage] = useState(\"\");\n  const API_URL = import.meta.env.VITE_API_URL;\n\n  useEffect(() => {\n    if (loading || !user) {\n      setError(\"Usuário não autenticado.\");\n      return;\n    }\n\n    const fetchPost = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(`${API_URL}/posts/${postId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        console.log(\"Detalhes do post:\", response.data);\n        setPost(response.data.data); // Ajuste conforme a estrutura da resposta\n      } catch (err) {\n        console.error(\"Erro ao buscar post:\", err);\n        setError(err.response?.data?.message || \"Erro ao carregar o post.\");\n      }\n    };\n\n    fetchPost();\n  }, [postId, user, loading]);\n\n  if (error) {\n    return (\n      <Row className=\"justify-content-center\">\n        <Col md={12} lg={12}>\n          <Alert variant=\"danger\">{error}</Alert>\n        </Col>\n      </Row>\n    );\n  }\n\n  if (loading || !post) {\n    return (\n      <Row className=\"justify-content-center\">\n        <Col md={12} lg={12}>\n          <div>Carregando...</div>\n        </Col>\n      </Row>\n    );\n  }\n\n  return (\n    <>\n      <PageMetaData title={`Visualizar Post - ${post.title}`} />\n      <Row className=\"justify-content-center\">\n        <Col md={12} lg={10}>\n          <Card className=\"mb-4\">\n            <Card.Header>\n              <h3>{post.title}</h3>\n              <small>Autor: {post.user?.name || \"Desconhecido\"}</small>\n            </Card.Header>\n            <Card.Body>\n              <p><strong>Categoria:</strong> {post.category?.name || \"Sem categoria\"}</p>\n              <p><strong>Status:</strong> {post.status}</p>\n              {post.image && (\n                <img\n                  src={`${API_URL}/storage/${post.image}`}\n                  alt={post.title}\n                  style={{ maxWidth: \"100%\", marginBottom: \"15px\" }}\n                />\n              )}\n              {post.video_url && (\n                <p><strong>Video URL:</strong> <a href={post.video_url} target=\"_blank\" rel=\"noopener noreferrer\">{post.video_url}</a></p>\n              )}\n              {post.audio_url && (\n                <p><strong>Audio URL:</strong> <a href={post.audio_url} target=\"_blank\" rel=\"noopener noreferrer\">{post.audio_url}</a></p>\n              )}\n              <div dangerouslySetInnerHTML={{ __html: post.content }} />\n            </Card.Body>\n            <Card.Footer>\n              <small>Publicado em: {new Date(post.created_at).toLocaleDateString()}</small>\n            </Card.Footer>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default VisualizarPost;\n"],"names":["VisualizarPost","postId","useParams","user","loading","useAuthContext","post","setPost","useState","error","setError","API_URL","useEffect","token","response","axios","err","_b","_a","Row","jsx","Col","Alert","jsxs","Fragment","PageMetaData","Card"],"mappings":"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"}