import{l as C,r as p,j as e,R as b,d as v,g as f}from"./index-UUiNTc0V.js";import{C as y}from"./ComponentContainerCard-DfvpmWMm.js";import{P as k}from"./PageMetaData-D364TxUJ.js";import{A as h}from"./Alert-CmRbplvD.js";import{F as t}from"./Form-QbBLU92o.js";import{B}from"./Button-BLYS8AP-.js";import"./hook-QqkXmZtl.js";import"./extends-CF3RwP-h.js";import"./Anchor-CMDYpN7l.js";import"./Button-CuaOUBT4.js";import"./FormCheck-CUEJfWsW.js";import"./FormContext-n6TyEwzp.js";import"./FormCheckInput-CTZsx7Pk.js";import"./ElementChildren-9All9Wte.js";import"./FormControl-CuFy3YGR.js";import"./FormLabel-GeQA8Xa_.js";import"./FormSelect-DLxzYE-u.js";const J=()=>{const x=C(),[a,j]=p.useState({title:"",description:"",image:null,link:"",position:"",status:"ativo"}),[m,c]=p.useState(null),[u,d]=p.useState(null),s=l=>{const{name:n,value:i,files:r}=l.target;j(o=>({...o,[n]:r&&r.length>0?r[0]:i}))},g=async l=>{var i,r;l.preventDefault(),c(null),d(null);const n=new FormData;n.append("title",a.title),n.append("description",a.description),a.image&&n.append("image",a.image),n.append("link",a.link),n.append("position",a.position),n.append("status",a.status);try{const o=localStorage.getItem("token");await f.post("https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners",n,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),d("Banner criado com sucesso!"),setTimeout(()=>x("/admin/banners"),2e3)}catch(o){c(((r=(i=o.response)==null?void 0:i.data)==null?void 0:r.message)||"Erro ao criar banner.")}};return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Criar Banner"}),e.jsx(b,{className:"justify-content-center",children:e.jsx(v,{md:12,lg:12,children:e.jsxs(y,{title:"Criar Banner",children:[m&&e.jsx(h,{variant:"danger",children:m}),u&&e.jsx(h,{variant:"success",children:u}),e.jsxs(t,{onSubmit:g,children:[e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Título"}),e.jsx(t.Control,{type:"text",name:"title",value:a.title,onChange:s,required:!0})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Descrição"}),e.jsx(t.Control,{type:"text",name:"description",value:a.description,onChange:s})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Imagem"}),e.jsx(t.Control,{type:"file",name:"image",accept:"image/*",onChange:s})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Link"}),e.jsx(t.Control,{type:"url",name:"link",value:a.link,onChange:s})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Posição"}),e.jsx(t.Control,{type:"text",name:"position",value:a.position,onChange:s})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Status"}),e.jsxs(t.Control,{as:"select",name:"status",value:a.status,onChange:s,children:[e.jsx("option",{value:"ativo",children:"Ativo"}),e.jsx("option",{value:"inativo",children:"Inativo"})]})]}),e.jsx(B,{variant:"primary",type:"submit",children:"Criar Banner"})]})]})})})]})};export{J as default};
//# sourceMappingURL=page-ClqIPT3r.js.map
