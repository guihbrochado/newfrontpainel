import{r as i,a as d,j as e,A as m,b as p}from"./index-BCS0cig_.js";import{c as h}from"./clsx-B-dksMZM.js";import{I as c}from"./IconifyIcon-JVia4Tlw.js";import{D as u,a as x,b as f,c as w}from"./Dropdown-B3nF7K52.js";import"./DataKey-COGXBUcQ.js";import"./SSRProvider-Dxj6v2Pp.js";import"./usePrevious-CoDrhLx9.js";import"./NavContext-3NvzG64K.js";import"./useWindow-BOkGfrdz.js";import"./mergeOptionsWithPopperConfig-Bfs5GLKd.js";import"./Button-BN2bDLjf.js";import"./hook-8yLRWsFC.js";import"./extends-CF3RwP-h.js";import"./Anchor-DDbQbNtO.js";import"./InputGroupContext-DimlSzXf.js";import"./NavbarContext-Ds3JXl9o.js";import"./Button-DeQEhl8G.js";const g=()=>{const[t,s]=i.useState(0),[n,o]=i.useState(0),[l,a]=i.useState(0),r=()=>{o(window.scrollY),s((window.scrollY+window.innerHeight)*100/document.body.offsetHeight)};return i.useEffect(()=>(window.addEventListener("scroll",r,{passive:!0}),o(window.scrollY),a(document.body.offsetHeight),()=>{window.removeEventListener("scroll",r)}),[]),{scrollPassed:t,scrollY:n,scrollHeight:l}},b=()=>{const[t,s]=i.useState(window.innerWidth),[n,o]=i.useState(window.innerHeight);return i.useEffect(()=>{const l=()=>{s(window.innerWidth),o(window.innerHeight)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{width:t,height:n}},j=()=>{const{width:t}=b(),{menu:{size:s},changeMenu:{size:n}}=d();return i.useEffect(()=>{t<=1440&&s==="default"?n("collapsed"):t>1440&&n("default")},[t]),e.jsx("li",{children:e.jsx("button",{className:"nav-link mobile-menu-btn nav-icon",id:"togglemenu",onClick:()=>n(s==="default"?"collapsed":"default"),children:e.jsx(c,{height:20,width:20,icon:"iconoir:menu-scale"})})})},v=()=>{const{user:t,logout:s}=i.useContext(m)||{},n=t!=null&&t.name?t.name.charAt(0).toUpperCase():"U",o=t!=null&&t.profile_photo_path?`https://webapp396758.ip-45-33-113-78.cloudezapp.io/storage/${t.profile_photo_path}`:null,l=()=>{s&&s()},a={width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#d7454d",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"bold"};return e.jsxs(u,{className:"topbar-item",children:[e.jsx(x,{className:"nav-link arrow-none nav-icon",role:"button","aria-haspopup":"false","aria-expanded":"false",children:o?e.jsx("img",{src:o,alt:"user",className:"thumb-lg rounded-circle"}):e.jsx("div",{style:a,children:n})}),e.jsxs(f,{align:"end",className:"py-0",children:[e.jsxs("div",{className:"d-flex align-items-center dropdown-item py-2 bg-secondary-subtle",children:[e.jsx("div",{className:"flex-shrink-0",children:o?e.jsx("img",{src:o,alt:"avatar",className:"thumb-md rounded-circle"}):e.jsx("div",{style:{...a,width:"32px",height:"32px",fontSize:"16px"},children:n})}),e.jsxs("div",{className:"flex-grow-1 ms-2 text-truncate align-self-center",children:[e.jsx("h6",{className:"my-0 fw-medium text-dark fs-13",children:(t==null?void 0:t.name)||"Usuário"}),e.jsx("small",{className:"text-muted mb-0",children:(t==null?void 0:t.role)||"Membro"})]})]}),e.jsxs(w,{className:"text-danger",onClick:l,children:[e.jsx(c,{icon:"la:power-off",className:"fs-18 me-1 align-text-bottom"})," Logout"]})]})]})},_=()=>{const{scrollY:t}=g(),{user:s,loading:n}=p(),o=(s==null?void 0:s.name)||"Usuário";return e.jsx("div",{className:"topbar d-print-none",children:e.jsx("div",{className:"container-xxl",children:e.jsxs("nav",{className:h("topbar-custom d-flex justify-content-between",{"nav-sticky":t>=50}),id:"topbar-custom",children:[e.jsxs("ul",{className:"topbar-item list-unstyled d-inline-flex align-items-center mb-0",children:[e.jsx(j,{}),e.jsx("li",{className:"mx-3 welcome-text",children:e.jsx("h3",{className:"mb-0 fw-bold text-truncate",children:n?"Carregando...":`Olá, ${o}!`})})]}),e.jsx("ul",{className:"topbar-item list-unstyled d-inline-flex align-items-center mb-0",children:e.jsx(v,{})})]})})})};export{_ as default};
//# sourceMappingURL=index-BwmEvXha.js.map
