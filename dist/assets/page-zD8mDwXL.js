import{r as s,g as v,j as t}from"./index-UUiNTc0V.js";import{C}from"./ComponentContainerCard-DfvpmWMm.js";import{A as f}from"./Alert-CmRbplvD.js";import{F as r}from"./Form-QbBLU92o.js";import{B as D}from"./Button-BLYS8AP-.js";import{T as I}from"./Table-BrmIOlpd.js";import"./hook-QqkXmZtl.js";import"./extends-CF3RwP-h.js";import"./Anchor-CMDYpN7l.js";import"./Button-CuaOUBT4.js";import"./FormCheck-CUEJfWsW.js";import"./FormContext-n6TyEwzp.js";import"./FormCheckInput-CTZsx7Pk.js";import"./ElementChildren-9All9Wte.js";import"./FormControl-CuFy3YGR.js";import"./FormLabel-GeQA8Xa_.js";import"./FormSelect-DLxzYE-u.js";const S=(i,a)=>a===0?"0%":(i/a*100).toFixed(2)+"%",$=()=>{const[i,a]=s.useState([]),[n,j]=s.useState(""),[l,u]=s.useState(""),[d,m]=s.useState(""),[c,p]=s.useState(""),[g,h]=s.useState(!1);s.useEffect(()=>{x()},[]);const x=async()=>{h(!0);const e=localStorage.getItem("token");try{const o=await v.get("https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners/reports",{params:{start_date:n,end_date:l,position:d},headers:{Authorization:`Bearer ${e}`}});a(o.data.data),p("")}catch{p("Erro ao carregar os relatórios.")}h(!1)};return t.jsxs(C,{title:"Análises de Banners",children:[c&&t.jsx(f,{variant:"danger",children:c}),t.jsx(r,{className:"mb-3",children:t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs(r.Group,{controlId:"startDate",children:[t.jsx(r.Label,{children:"Data Inicial"}),t.jsx(r.Control,{type:"date",value:n,onChange:e=>j(e.target.value)})]}),t.jsxs(r.Group,{controlId:"endDate",children:[t.jsx(r.Label,{children:"Data Final"}),t.jsx(r.Control,{type:"date",value:l,onChange:e=>u(e.target.value)})]}),t.jsxs(r.Group,{controlId:"position",children:[t.jsx(r.Label,{children:"Posição"}),t.jsxs(r.Control,{as:"select",value:d,onChange:e=>m(e.target.value),children:[t.jsx("option",{value:"",children:"Todas"}),t.jsx("option",{value:"topo",children:"Topo"}),t.jsx("option",{value:"lateral",children:"Lateral"}),t.jsx("option",{value:"entre_conteudos",children:"Entre Conteúdos"}),t.jsx("option",{value:"rodape",children:"Rodapé"})]})]}),t.jsx(D,{variant:"primary",className:"align-self-end",onClick:x,children:"Filtrar"})]})}),g?t.jsx("p",{children:"Carregando..."}):t.jsxs(I,{striped:!0,bordered:!0,hover:!0,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ID"}),t.jsx("th",{children:"Título"}),t.jsx("th",{children:"Posição"}),t.jsx("th",{children:"Clique Total"}),t.jsx("th",{children:"Impressões"}),t.jsx("th",{children:"CTR (%)"}),t.jsx("th",{children:"Data Inicial"}),t.jsx("th",{children:"Data Final"})]})}),t.jsx("tbody",{children:i.map((e,o)=>t.jsxs("tr",{children:[t.jsx("td",{children:e.id}),t.jsx("td",{children:e.title}),t.jsx("td",{children:e.position}),t.jsx("td",{children:e.clicks}),t.jsx("td",{children:e.views}),t.jsx("td",{children:S(e.clicks,e.views)}),t.jsx("td",{children:e.start_date||"N/A"}),t.jsx("td",{children:e.end_date||"N/A"})]},o))})]})]})};export{$ as default};
//# sourceMappingURL=page-zD8mDwXL.js.map
