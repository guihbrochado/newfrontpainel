import{d as D,a as O,q as T}from"./DataKey-COGXBUcQ.js";import{r as s,B as k,j as m}from"./index-UUiNTc0V.js";import{u as q,S as N,N as P,m as B}from"./NavContext-BRvIv2qI.js";import{N as L,T as U}from"./NavItem-BdGtC4I2.js";const _=["as","onSelect","activeKey","role","onKeyDown"];function $(o,f){if(o==null)return{};var i={},a=Object.keys(o),n,r;for(r=0;r<a.length;r++)n=a[r],!(f.indexOf(n)>=0)&&(i[n]=o[n]);return i}const w=()=>{},R=D("event-key"),j=s.forwardRef((o,f)=>{let{as:i="div",onSelect:a,activeKey:n,role:r,onKeyDown:p}=o,E=$(o,_);const I=q(),v=s.useRef(!1),g=s.useContext(N),l=s.useContext(U);let y,C;l&&(r=r||"tablist",n=l.activeKey,y=l.getControlledId,C=l.getControllerId);const u=s.useRef(null),h=e=>{const t=u.current;if(!t)return null;const d=T(t,`[${R}]:not([aria-disabled=true])`),x=t.querySelector("[aria-selected=true]");if(!x||x!==document.activeElement)return null;const K=d.indexOf(x);if(K===-1)return null;let c=K+e;return c>=d.length&&(c=0),c<0&&(c=d.length-1),d[c]},b=(e,t)=>{e!=null&&(a==null||a(e,t),g==null||g(e,t))},A=e=>{if(p==null||p(e),!l)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=h(-1);break;case"ArrowRight":case"ArrowDown":t=h(1);break;default:return}t&&(e.preventDefault(),b(t.dataset[O("EventKey")]||null,e),v.current=!0,I())};s.useEffect(()=>{if(u.current&&v.current){const e=u.current.querySelector(`[${R}][aria-selected=true]`);e==null||e.focus()}v.current=!1});const S=k(f,u);return m.jsx(N.Provider,{value:b,children:m.jsx(P.Provider,{value:{role:r,activeKey:B(n),getControlledId:y||w,getControllerId:C||w},children:m.jsx(i,Object.assign({},E,{onKeyDown:A,ref:S,role:r}))})})});j.displayName="Nav";const Y=Object.assign(j,{Item:L});export{Y as B};
//# sourceMappingURL=Nav-tpkPLjgO.js.map
