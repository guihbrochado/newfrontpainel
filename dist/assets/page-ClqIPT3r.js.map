{"version":3,"file":"page-ClqIPT3r.js","sources":["../../src/app/(admin)/banners/criar/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, FormEvent, ChangeEvent } from \"react\";\nimport { Form, Button, Alert, Col, Row } from \"react-bootstrap\";\nimport axios, { AxiosError } from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport ComponentContainerCard from \"@/components/ComponentContainerCard\";\nimport PageMetaData from \"@/components/PageMetaData\";\n\ninterface BannerForm {\n  title: string;\n  description: string;\n  image: File | null;\n  link: string;\n  position: string;\n  status: string;\n}\n\nconst CriarBanner = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState<BannerForm>({\n    title: \"\",\n    description: \"\",\n    image: null,\n    link: \"\",\n    position: \"\",\n    status: \"ativo\",\n  });\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value, files } = e.target as HTMLInputElement;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: files && files.length > 0 ? files[0] : value,\n    }));\n  };\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n\n    const data = new FormData();\n    data.append(\"title\", formData.title);\n    data.append(\"description\", formData.description);\n    if (formData.image) data.append(\"image\", formData.image);\n    data.append(\"link\", formData.link);\n    data.append(\"position\", formData.position);\n    data.append(\"status\", formData.status);\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.post(\n        \"https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners\",\n        data,\n        { headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"multipart/form-data\" } }\n      );\n      setSuccess(\"Banner criado com sucesso!\");\n      setTimeout(() => navigate(\"/admin/banners\"), 2000);\n    } catch (err) {\n      const error = err as AxiosError<{ message?: string }>;\n      setError(error.response?.data?.message || \"Erro ao criar banner.\");\n    }\n  };\n\n  return (\n    <>\n      <PageMetaData title=\"Criar Banner\" />\n      <Row className=\"justify-content-center\">\n        <Col md={12} lg={12}>\n          <ComponentContainerCard title=\"Criar Banner\">\n            {error && <Alert variant=\"danger\">{error}</Alert>}\n            {success && <Alert variant=\"success\">{success}</Alert>}\n            <Form onSubmit={handleSubmit}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Título</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange as any}\n                  required\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Descrição</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleChange as any}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Imagem</Form.Label>\n                <Form.Control\n                  type=\"file\"\n                  name=\"image\"\n                  accept=\"image/*\"\n                  onChange={handleChange as any}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Link</Form.Label>\n                <Form.Control\n                  type=\"url\"\n                  name=\"link\"\n                  value={formData.link}\n                  onChange={handleChange as any}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Posição</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"position\"\n                  value={formData.position}\n                  onChange={handleChange as any}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Status</Form.Label>\n                <Form.Control\n                  as=\"select\"\n                  name=\"status\"\n                  value={formData.status}\n                  onChange={handleChange as any}\n                >\n                  <option value=\"ativo\">Ativo</option>\n                  <option value=\"inativo\">Inativo</option>\n                </Form.Control>\n              </Form.Group>\n\n              <Button variant=\"primary\" type=\"submit\">\n                Criar Banner\n              </Button>\n            </Form>\n          </ComponentContainerCard>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default CriarBanner;\n"],"names":["CriarBanner","navigate","useNavigate","formData","setFormData","useState","error","setError","success","setSuccess","handleChange","e","name","value","files","prev","handleSubmit","data","token","axios","err","jsxs","Fragment","jsx","PageMetaData","Row","Col","ComponentContainerCard","Alert","Form","Button"],"mappings":"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"}