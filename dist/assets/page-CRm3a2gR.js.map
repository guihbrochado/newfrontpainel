{"version":3,"file":"page-CRm3a2gR.js","sources":["../../src/app/(admin)/banners/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, ChangeEvent } from \"react\";\nimport { Table, Modal, Button, Form, Alert, Nav } from \"react-bootstrap\";\nimport axios, { AxiosError } from \"axios\";\nimport { useAuthContext } from \"@/context/AuthContext\";\n//import { useNavigate } from \"react-router-dom\";\nimport PageMetaData from \"@/components/PageMetaData\";\nimport ComponentContainerCard from \"@/components/ComponentContainerCard\";\nimport IconifyIcon from \"@/components/wrappers/IconifyIcon\";\n\n// Interface para o formato do erro retornado pela API\ninterface ApiErrorResponse {\n  message?: string;\n}\n\ninterface Banner {\n  id: number;\n  title: string;\n  image_path: string;\n  position: string;\n  is_carousel: boolean;\n  url: string;\n  open_in_new_tab: boolean;\n  start_date: string;\n  end_date: string;\n  clicks: number;\n  is_active: boolean;\n}\n\ninterface BannerFormData {\n  title: string;\n  image: File | null;\n  position: string;\n  order: number;\n  carousel: boolean;\n  url: string;\n  open_in_new_tab: boolean;\n  start_date: string;\n  end_date: string;\n  clicks: number;\n  is_active: boolean;\n}\n\nconst ListaBanners = () => {\n  const { user } = useAuthContext();\n//  const navigate = useNavigate();\n  const [banners, setBanners] = useState<Banner[]>([]);\n  const [error, setError] = useState<string | null>(\"\");\n  const [message, setMessage] = useState<string | null>(\"\");\n  const [activeTab, setActiveTab] = useState(\"ativos\");\n  const [showModal, setShowModal] = useState(false);\n  const [selectedBanner, setSelectedBanner] = useState<Banner | null>(null);\n  const [bannerData, setBannerData] = useState<BannerFormData>({\n    title: \"\",\n    image: null,\n    position: \"topo\",\n    order: 1,\n    carousel: false,\n    url: \"\",\n    open_in_new_tab: false,\n    start_date: \"\",\n    end_date: \"\",\n    clicks: 0,\n    is_active: true,\n  });\n\n  useEffect(() => {\n    if (!user) {\n      setError(\"Usuário não autenticado.\");\n      return;\n    }\n    if (user.role !== \"Administrador\") {\n      setError(\"Você não tem permissão para acessar esta página.\");\n      return;\n    }\n\n    const fetchBanners = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          \"https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners\",\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n        const bannersArray = response.data?.data || [];\n        setBanners(bannersArray);\n      } catch (err) {\n        setError(\"Erro ao carregar banners.\");\n      }\n    };\n\n    fetchBanners();\n  }, [user]);\n\n  const filterBanners = (status: string) => {\n    return banners.filter((banner) => {\n      if (status === \"ativos\") return banner.is_active;\n      if (status === \"inativos\") return !banner.is_active;\n      return true;\n    });\n  };\n\n  const handleEditClick = (banner: Banner) => {\n    setSelectedBanner(banner);\n    const initialPosition = [\"topo\", \"lateral\", \"entre_conteudos\", \"rodape\"].includes(banner.position)\n      ? banner.position\n      : \"topo\";\n    setBannerData({\n      title: banner.title || \"\",\n      image: null,\n      position: initialPosition,\n      order: 1,\n      carousel: banner.is_carousel || false,\n      url: banner.url || \"\",\n      open_in_new_tab: banner.open_in_new_tab || false,\n      start_date: banner.start_date ? new Date(banner.start_date).toISOString().split(\"T\")[0] : \"\",\n      end_date: banner.end_date ? new Date(banner.end_date).toISOString().split(\"T\")[0] : \"\",\n      clicks: banner.clicks || 0,\n      is_active: banner.is_active || true,\n    });\n    setShowModal(true);\n  };\n\n  const handleCreateClick = () => {\n    setSelectedBanner(null);\n    setBannerData({\n      title: \"\",\n      image: null,\n      position: \"topo\",\n      order: 1,\n      carousel: false,\n      url: \"\",\n      open_in_new_tab: false,\n      start_date: \"\",\n      end_date: \"\",\n      clicks: 0,\n      is_active: true,\n    });\n    setShowModal(true);\n  };\n\n  const handleSaveBanner = async () => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      const validPosition = [\"topo\", \"lateral\", \"entre_conteudos\", \"rodape\"].includes(bannerData.position)\n        ? bannerData.position\n        : \"topo\";\n\n      const formData = new FormData();\n      formData.append(\"title\", bannerData.title);\n      if (bannerData.image instanceof File) {\n        formData.append(\"image\", bannerData.image);\n      }\n      formData.append(\"position\", validPosition);\n      formData.append(\"is_carousel\", bannerData.carousel ? \"1\" : \"0\");\n      formData.append(\"url\", bannerData.url);\n      formData.append(\"open_in_new_tab\", bannerData.open_in_new_tab ? \"1\" : \"0\");\n      formData.append(\"start_date\", bannerData.start_date || \"\");\n      formData.append(\"end_date\", bannerData.end_date || \"\");\n      formData.append(\"is_active\", bannerData.is_active ? \"1\" : \"0\");\n\n      if (selectedBanner) {\n        await axios.put(\n          `https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners/${selectedBanner.id}`,\n          formData,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }\n        );\n        setBanners(\n          banners.map((b) =>\n            b.id === selectedBanner.id ? { ...b, ...bannerData, position: validPosition } : b\n          )\n        );\n        setMessage(\"Banner atualizado com sucesso!\");\n      } else {\n        const response = await axios.post(\n          \"https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners\",\n          formData,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }\n        );\n        setBanners([...banners, response.data.data]);\n        setMessage(\"Banner criado com sucesso!\");\n      }\n      setShowModal(false);\n      setTimeout(() => setMessage(\"\"), 3000);\n    } catch (err) {\n      const error = err as AxiosError<ApiErrorResponse>;\n      console.error(\"Erro ao salvar banner:\", error.response?.data);\n      setError(error.response?.data?.message || \"Erro ao salvar banner. Tente novamente.\");\n    }\n  };\n\n  const handleDeleteClick = async (banner: Banner) => {\n    if (!confirm(\"Tem certeza que deseja excluir este banner?\")) return;\n\n    const token = localStorage.getItem(\"token\");\n    try {\n      await axios.delete(\n        `https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners/${banner.id}`,\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setBanners(banners.filter((b) => b.id !== banner.id));\n      setMessage(\"Banner excluído com sucesso!\");\n      setTimeout(() => setMessage(\"\"), 3000);\n    } catch (err) {\n      console.error(\"Erro ao excluir banner:\", err);\n      setError(\"Erro ao excluir banner. Tente novamente.\");\n    }\n  };\n\n  const handleToggleStatus = async (id: number, currentStatus: boolean) => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      await axios.patch(\n        `https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/banners/${id}/toggle-status`,\n        {},\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setBanners(\n        banners.map((banner) =>\n          banner.id === id ? { ...banner, is_active: !currentStatus } : banner\n        )\n      );\n      setMessage(`Status do banner atualizado para ${!currentStatus ? \"ativo\" : \"inativo\"}!`);\n      setTimeout(() => setMessage(\"\"), 3000);\n    } catch (err) {\n      console.error(\"Erro ao alternar status:\", err);\n      setError(\"Erro ao atualizar o status do banner.\");\n    }\n  };\n\n  if (error) {\n    return <Alert variant=\"danger\">{error}</Alert>;\n  }\n\n  return (\n    <>\n      <PageMetaData title=\"Gestão de Banners\" />\n      <ComponentContainerCard title=\"Gestão de Banners\" showAddButton onAddClick={handleCreateClick}>\n        {message && <Alert variant=\"info\">{message}</Alert>}\n\n        <Nav variant=\"tabs\" className=\"mt-3\">\n          <Nav.Item>\n            <Nav.Link active={activeTab === \"ativos\"} onClick={() => setActiveTab(\"ativos\")}>\n              Ativos\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link active={activeTab === \"inativos\"} onClick={() => setActiveTab(\"inativos\")}>\n              Inativos\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n\n        <Table striped className=\"table mb-0 mt-3\">\n          <thead className=\"table-light\">\n            <tr>\n              <th>ID</th>\n              <th>Imagem</th>\n              <th>Título</th>\n              <th>Posição</th>\n              <th>Ordem</th>\n              <th>Carrossel</th>\n              <th>Cliques</th>\n              <th>Ativo</th>\n              <th className=\"text-end\">Ações</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filterBanners(activeTab).length > 0 ? (\n              filterBanners(activeTab).map((banner) => (\n                <tr key={banner.id}>\n                  <td>{banner.id}</td>\n                  <td>\n                    {banner.image_path && (\n                      <img\n                        src={`https://webapp396758.ip-45-33-113-78.cloudezapp.io/storage/app/public/banners/${banner.image_path\n                          .split(\"/\")\n                          .pop()}`}\n                        alt={banner.title || \"Banner\"}\n                        style={{ width: \"50px\", height: \"50px\", objectFit: \"cover\" }}\n                      />\n                    )}\n                  </td>\n                  <td>{banner.title || \"Sem título\"}</td>\n                  <td>{banner.position}</td>\n                  <td>{1}</td>\n                  <td>{banner.is_carousel ? \"Sim\" : \"Não\"}</td>\n                  <td>{banner.clicks || 0}</td>\n                  <td>{banner.is_active ? \"Sim\" : \"Não\"}</td>\n                  <td className=\"text-end\">\n                    <span role=\"button\" onClick={() => handleEditClick(banner)}>\n                      <IconifyIcon icon=\"la:pen\" className=\"text-secondary font-16 me-2\" />\n                    </span>\n                    <span role=\"button\" onClick={() => handleDeleteClick(banner)}>\n                      <IconifyIcon icon=\"la:trash-alt\" className=\"text-danger font-16\" />\n                    </span>\n                    <span role=\"button\" onClick={() => handleToggleStatus(banner.id, banner.is_active)}>\n                      <IconifyIcon\n                        icon={banner.is_active ? \"la:times\" : \"la:check\"}\n                        className={banner.is_active ? \"text-secondary font-16 me-2\" : \"text-success font-16\"}\n                      />\n                    </span>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan={9} className=\"text-center\">\n                  Nenhum banner encontrado.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </Table>\n\n        <Modal show={showModal} onHide={() => setShowModal(false)}>\n          <Modal.Header closeButton>\n            <Modal.Title>{selectedBanner ? \"Editar Banner\" : \"Criar Banner\"}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Título</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={bannerData.title}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, title: e.target.value }))\n                  }\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Imagem</Form.Label>\n                <Form.Control\n                  type=\"file\"\n                  accept=\".png,.jpg,.gif\"\n                  onChange={(e: ChangeEvent<HTMLInputElement>) => {\n                    const file = e.target.files?.[0];\n                    if (file) {\n                      if (file.size > 2048 * 1024) {\n                        setError(\"A imagem deve ter no máximo 2 MB.\");\n                        return;\n                      }\n                      const validTypes = [\"image/png\", \"image/jpeg\", \"image/gif\"];\n                      if (!validTypes.includes(file.type)) {\n                        setError(\"A imagem deve ser do tipo PNG, JPG ou GIF.\");\n                        return;\n                      }\n                    }\n                    setBannerData((prev) => ({ ...prev, image: file }));\n                  }}\n                />\n                {selectedBanner && selectedBanner.image_path && (\n                  <img\n                    src={`https://webapp396758.ip-45-33-113-78.cloudezapp.io/storage/app/public/banners/${selectedBanner.image_path\n                      .split(\"/\")\n                      .pop()}`}\n                    alt={selectedBanner.title || \"Banner\"}\n                    style={{ maxWidth: \"100px\", maxHeight: \"100px\", marginTop: \"10px\" }}\n                  />\n                )}\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Posição</Form.Label>\n                <Form.Select\n                  value={bannerData.position}\n                  onChange={(e: ChangeEvent<HTMLSelectElement>) =>\n                    setBannerData((prev) => ({ ...prev, position: e.target.value }))\n                  }\n                >\n                  <option value=\"topo\">Topo</option>\n                  <option value=\"lateral\">Lateral</option>\n                  <option value=\"entre_conteudos\">Entre Conteúdos</option>\n                  <option value=\"rodape\">Rodapé</option>\n                </Form.Select>\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Ordem</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  min=\"1\"\n                  value={bannerData.order}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, order: parseInt(e.target.value) }))\n                  }\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Check\n                  type=\"checkbox\"\n                  label=\"Exibir no Carrossel\"\n                  checked={bannerData.carousel}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, carousel: e.target.checked }))\n                  }\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Link</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={bannerData.url}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, url: e.target.value }))\n                  }\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Check\n                  type=\"checkbox\"\n                  label=\"Abrir em nova aba\"\n                  checked={bannerData.open_in_new_tab}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, open_in_new_tab: e.target.checked }))\n                  }\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Data de Início</Form.Label>\n                <Form.Control\n                  type=\"date\"\n                  value={bannerData.start_date}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, start_date: e.target.value }))\n                  }\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Data de Término</Form.Label>\n                <Form.Control\n                  type=\"date\"\n                  value={bannerData.end_date}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, end_date: e.target.value }))\n                  }\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Check\n                  type=\"checkbox\"\n                  label=\"Ativo\"\n                  checked={bannerData.is_active}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setBannerData((prev) => ({ ...prev, is_active: e.target.checked }))\n                  }\n                />\n              </Form.Group>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\n              Cancelar\n            </Button>\n            <Button variant=\"primary\" onClick={handleSaveBanner}>\n              Salvar\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </ComponentContainerCard>\n    </>\n  );\n};\n\nexport default ListaBanners;\n"],"names":["ListaBanners","user","useAuthContext","banners","setBanners","useState","error","setError","message","setMessage","activeTab","setActiveTab","showModal","setShowModal","selectedBanner","setSelectedBanner","bannerData","setBannerData","useEffect","token","bannersArray","_a","axios","filterBanners","status","banner","handleEditClick","initialPosition","handleCreateClick","handleSaveBanner","validPosition","formData","b","response","err","handleDeleteClick","handleToggleStatus","id","currentStatus","jsx","Alert","jsxs","Fragment","PageMetaData","ComponentContainerCard","Nav","Table","IconifyIcon","Modal","Form","e","prev","file","Button"],"mappings":"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"}