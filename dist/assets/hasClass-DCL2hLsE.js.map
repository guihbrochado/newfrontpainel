{"version":3,"file":"hasClass-DCL2hLsE.js","sources":["../../node_modules/@restart/ui/esm/useWaitForDOMRef.js","../../node_modules/@restart/ui/esm/utils.js","../../node_modules/@restart/ui/esm/useRTGTransitionProps.js","../../node_modules/@restart/ui/esm/RTGTransition.js","../../node_modules/@restart/ui/esm/ImperativeTransition.js","../../node_modules/dom-helpers/esm/hasClass.js"],"sourcesContent":["import ownerDocument from 'dom-helpers/ownerDocument';\nimport canUseDOM from 'dom-helpers/canUseDOM';\nimport { useState, useEffect } from 'react';\nimport useWindow from './useWindow';\nexport const resolveContainerRef = (ref, document) => {\n  if (!canUseDOM) return null;\n  if (ref == null) return (document || ownerDocument()).body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if (ref && ('nodeType' in ref || ref.getBoundingClientRect)) return ref;\n  return null;\n};\nexport default function useWaitForDOMRef(ref, onResolved) {\n  const window = useWindow();\n  const [resolvedRef, setRef] = useState(() => resolveContainerRef(ref, window == null ? void 0 : window.document));\n  if (!resolvedRef) {\n    const earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n  useEffect(() => {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  useEffect(() => {\n    const nextRef = resolveContainerRef(ref);\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}","import * as React from 'react';\nexport function isEscKey(e) {\n  return e.code === 'Escape' || e.keyCode === 27;\n}\nexport function getReactVersion() {\n  const parts = React.version.split('.');\n  return {\n    major: +parts[0],\n    minor: +parts[1],\n    patch: +parts[2]\n  };\n}","const _excluded = [\"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"addEndListener\", \"children\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { cloneElement, useCallback, useRef } from 'react';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport { getReactVersion } from './utils';\n/**\n * Normalizes RTG transition callbacks with nodeRef to better support\n * strict mode.\n *\n * @param props Transition props.\n * @returns Normalized transition props.\n */\nexport default function useRTGTransitionProps(_ref) {\n  let {\n      onEnter,\n      onEntering,\n      onEntered,\n      onExit,\n      onExiting,\n      onExited,\n      addEndListener,\n      children\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  const {\n    major\n  } = getReactVersion();\n  const childRef = major >= 19 ? children.props.ref : children.ref;\n  const nodeRef = useRef(null);\n  const mergedRef = useMergedRefs(nodeRef, typeof children === 'function' ? null : childRef);\n  const normalize = callback => param => {\n    if (callback && nodeRef.current) {\n      callback(nodeRef.current, param);\n    }\n  };\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n  const handleEnter = useCallback(normalize(onEnter), [onEnter]);\n  const handleEntering = useCallback(normalize(onEntering), [onEntering]);\n  const handleEntered = useCallback(normalize(onEntered), [onEntered]);\n  const handleExit = useCallback(normalize(onExit), [onExit]);\n  const handleExiting = useCallback(normalize(onExiting), [onExiting]);\n  const handleExited = useCallback(normalize(onExited), [onExited]);\n  const handleAddEndListener = useCallback(normalize(addEndListener), [addEndListener]);\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  return Object.assign({}, props, {\n    nodeRef\n  }, onEnter && {\n    onEnter: handleEnter\n  }, onEntering && {\n    onEntering: handleEntering\n  }, onEntered && {\n    onEntered: handleEntered\n  }, onExit && {\n    onExit: handleExit\n  }, onExiting && {\n    onExiting: handleExiting\n  }, onExited && {\n    onExited: handleExited\n  }, addEndListener && {\n    addEndListener: handleAddEndListener\n  }, {\n    children: typeof children === 'function' ? (status, innerProps) =>\n    // TODO: Types for RTG missing innerProps, so need to cast.\n    children(status, Object.assign({}, innerProps, {\n      ref: mergedRef\n    })) : /*#__PURE__*/cloneElement(children, {\n      ref: mergedRef\n    })\n  });\n}","const _excluded = [\"component\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from 'react';\nimport useRTGTransitionProps from './useRTGTransitionProps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Normalizes Transition callbacks when nodeRef is used.\nconst RTGTransition = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n      component: Component\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  const transitionProps = useRTGTransitionProps(props);\n  return /*#__PURE__*/_jsx(Component, Object.assign({\n    ref: ref\n  }, transitionProps));\n});\nexport default RTGTransition;","import useMergedRefs from '@restart/hooks/useMergedRefs';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useIsomorphicEffect from '@restart/hooks/useIsomorphicEffect';\nimport React, { useRef, cloneElement, useState } from 'react';\nimport NoopTransition from './NoopTransition';\nimport RTGTransition from './RTGTransition';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useTransition({\n  in: inProp,\n  onTransition\n}) {\n  const ref = useRef(null);\n  const isInitialRef = useRef(true);\n  const handleTransition = useEventCallback(onTransition);\n  useIsomorphicEffect(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n    let stale = false;\n    handleTransition({\n      in: inProp,\n      element: ref.current,\n      initial: isInitialRef.current,\n      isStale: () => stale\n    });\n    return () => {\n      stale = true;\n    };\n  }, [inProp, handleTransition]);\n  useIsomorphicEffect(() => {\n    isInitialRef.current = false;\n    // this is for strict mode\n    return () => {\n      isInitialRef.current = true;\n    };\n  }, []);\n  return ref;\n}\n/**\n * Adapts an imperative transition function to a subset of the RTG `<Transition>` component API.\n *\n * ImperativeTransition does not support mounting options or `appear` at the moment, meaning\n * that it always acts like: `mountOnEnter={true} unmountOnExit={true} appear={true}`\n */\nexport default function ImperativeTransition({\n  children,\n  in: inProp,\n  onExited,\n  onEntered,\n  transition\n}) {\n  const [exited, setExited] = useState(!inProp);\n\n  // TODO: I think this needs to be in an effect\n  if (inProp && exited) {\n    setExited(false);\n  }\n  const ref = useTransition({\n    in: !!inProp,\n    onTransition: options => {\n      const onFinish = () => {\n        if (options.isStale()) return;\n        if (options.in) {\n          onEntered == null ? void 0 : onEntered(options.element, options.initial);\n        } else {\n          setExited(true);\n          onExited == null ? void 0 : onExited(options.element);\n        }\n      };\n      Promise.resolve(transition(options)).then(onFinish, error => {\n        if (!options.in) setExited(true);\n        throw error;\n      });\n    }\n  });\n  const combinedRef = useMergedRefs(ref, children.ref);\n  return exited && !inProp ? null : /*#__PURE__*/cloneElement(children, {\n    ref: combinedRef\n  });\n}\nexport function renderTransition(component, runTransition, props) {\n  if (component) {\n    return /*#__PURE__*/_jsx(RTGTransition, Object.assign({}, props, {\n      component: component\n    }));\n  }\n  if (runTransition) {\n    return /*#__PURE__*/_jsx(ImperativeTransition, Object.assign({}, props, {\n      transition: runTransition\n    }));\n  }\n  return /*#__PURE__*/_jsx(NoopTransition, Object.assign({}, props));\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}"],"names":["resolveContainerRef","ref","document","canUseDOM","ownerDocument","useWaitForDOMRef","onResolved","window","useWindow","resolvedRef","setRef","useState","earlyRef","useEffect","nextRef","isEscKey","e","getReactVersion","parts","React.version","_excluded","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","key","useRTGTransitionProps","_ref","onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","props","major","childRef","nodeRef","useRef","mergedRef","useMergedRefs","normalize","callback","param","handleEnter","useCallback","handleEntering","handleEntered","handleExit","handleExiting","handleExited","handleAddEndListener","status","innerProps","cloneElement","RTGTransition","React.forwardRef","Component","transitionProps","_jsx","useTransition","inProp","onTransition","isInitialRef","handleTransition","useEventCallback","useIsomorphicEffect","stale","ImperativeTransition","transition","exited","setExited","options","onFinish","error","combinedRef","renderTransition","component","runTransition","NoopTransition","hasClass","element","className"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}