import{r as K}from"./index-UUiNTc0V.js";var C={exports:{}},u={};Object.defineProperty(u,"__esModule",{value:!0});var l,o=K,c=(l=o)&&typeof l=="object"&&"default"in l?l.default:l;function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var J=[],N=!1,A=function(){if(N)for(var t;t=J.shift();)t()},p=typeof window>"u"?{__unlayer_lastEditorId:0}:window;p.__unlayer_lastEditorId=p.__unlayer_lastEditorId||0;var P=c.forwardRef(function(t,a){var r,i,v,y,m,E,_,j,h,b=t.onLoad,I=t.onReady,g=t.scriptUrl,x=t.minHeight,U=x===void 0?500:x,O=t.style,z=O===void 0?{}:O,w=o.useState(null),e=w[0],B=w[1],M=o.useState(!1),L=M[0],S=M[1],H=o.useMemo(function(){return t.editorId||"editor-"+ ++p.__unlayer_lastEditorId},[t.editorId]),R=f({},t.options||{},{appearance:(r=t.appearance)!=null?r:(i=t.options)==null?void 0:i.appearance,displayMode:(t==null?void 0:t.displayMode)||((v=t.options)==null?void 0:v.displayMode)||"email",locale:(y=t.locale)!=null?y:(m=t.options)==null?void 0:m.locale,projectId:(E=t.projectId)!=null?E:(_=t.options)==null?void 0:_.projectId,tools:(j=t.tools)!=null?j:(h=t.options)==null?void 0:h.tools,id:H,source:{name:"react-email-editor",version:"1.7.11"}});o.useImperativeHandle(a,function(){return{editor:e}},[e]),o.useEffect(function(){return function(){e==null||e.destroy()}},[]),o.useEffect(function(){S(!1),function(n,d){if(d===void 0&&(d="https://editor.unlayer.com/embed.js?2"),J.push(function(){return S(!0)}),function(D){var F=document.querySelectorAll("script"),q=!1;return F.forEach(function(G){G.src.includes(D)&&(q=!0)}),q}(d))A();else{var s=document.createElement("script");s.setAttribute("src",d),s.onload=function(){N=!0,A()},document.head.appendChild(s)}}(0,g)},[g]),o.useEffect(function(){L&&(e==null||e.destroy(),B(unlayer.createEditor(R)))},[JSON.stringify(R),L]);var k=Object.keys(t).filter(function(n){return/^on/.test(n)});return o.useEffect(function(){e&&(b==null||b(e),k.forEach(function(n){/^on/.test(n)&&n!=="onLoad"&&n!=="onReady"&&typeof t[n]=="function"&&e.addEventListener(n,t[n])}),I&&e.addEventListener("editor:ready",function(){I(e)}))},[e,Object.keys(k).join(",")]),c.createElement("div",{style:{flex:1,display:"flex",minHeight:U}},c.createElement("div",{id:H,style:f({},z,{flex:1})}))});u.EmailEditor=P,u.default=P;C.exports=u;var T=C.exports;export{T as d};
//# sourceMappingURL=index-DfOFOgNh.js.map
