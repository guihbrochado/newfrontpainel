import{m as _,b as P,r as o,j as e,R as n,d as i,C as s,g as y}from"./index-BCS0cig_.js";import{P as b}from"./PageMetaData-wG5U-ou6.js";import{A}from"./Alert-DNG6lhNR.js";import"./hook-8yLRWsFC.js";import"./extends-CF3RwP-h.js";import"./Anchor-DDbQbNtO.js";import"./Button-BN2bDLjf.js";const k=()=>{var m,x;const{postId:l}=_(),{user:c,loading:a}=P(),[r,f]=o.useState(null),[d,u]=o.useState(""),h="https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api";return o.useEffect(()=>{if(a||!c){u("Usuário não autenticado.");return}(async()=>{var j,p;try{const t=localStorage.getItem("token"),g=await y.get(`${h}/posts/${l}`,{headers:{Authorization:`Bearer ${t}`}});console.log("Detalhes do post:",g.data),f(g.data.data)}catch(t){console.error("Erro ao buscar post:",t),u(((p=(j=t.response)==null?void 0:j.data)==null?void 0:p.message)||"Erro ao carregar o post.")}})()},[l,c,a]),d?e.jsx(n,{className:"justify-content-center",children:e.jsx(i,{md:12,lg:12,children:e.jsx(A,{variant:"danger",children:d})})}):a||!r?e.jsx(n,{className:"justify-content-center",children:e.jsx(i,{md:12,lg:12,children:e.jsx("div",{children:"Carregando..."})})}):e.jsxs(e.Fragment,{children:[e.jsx(b,{title:`Visualizar Post - ${r.title}`}),e.jsx(n,{className:"justify-content-center",children:e.jsx(i,{md:12,lg:10,children:e.jsxs(s,{className:"mb-4",children:[e.jsxs(s.Header,{children:[e.jsx("h3",{children:r.title}),e.jsxs("small",{children:["Autor: ",((m=r.user)==null?void 0:m.name)||"Desconhecido"]})]}),e.jsxs(s.Body,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Categoria:"})," ",((x=r.category)==null?void 0:x.name)||"Sem categoria"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),r.image&&e.jsx("img",{src:`${h}/storage/${r.image}`,alt:r.title,style:{maxWidth:"100%",marginBottom:"15px"}}),r.video_url&&e.jsxs("p",{children:[e.jsx("strong",{children:"Video URL:"})," ",e.jsx("a",{href:r.video_url,target:"_blank",rel:"noopener noreferrer",children:r.video_url})]}),r.audio_url&&e.jsxs("p",{children:[e.jsx("strong",{children:"Audio URL:"})," ",e.jsx("a",{href:r.audio_url,target:"_blank",rel:"noopener noreferrer",children:r.audio_url})]}),e.jsx("div",{dangerouslySetInnerHTML:{__html:r.content}})]}),e.jsx(s.Footer,{children:e.jsxs("small",{children:["Publicado em: ",new Date(r.created_at).toLocaleDateString()]})})]})})})]})};export{k as default};
//# sourceMappingURL=page-DPo7OTdT.js.map
