{"version":3,"file":"page-BU_IpeZe.js","sources":["../../src/app/(admin)/posts/visualizar/[id]/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Row, Col, Card, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuthContext } from \"@/context/AuthContext\";\nimport PageMetaData from \"@/components/PageMetaData\";\n\nconst VisualizarPost = () => {\n  const { postId } = useParams();\n  const { user, loading } = useAuthContext();\n  const [post, setPost] = useState(null);\n  const [error, setError] = useState(\"\");\n  //const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    if (loading || !user) {\n      setError(\"Usuário não autenticado.\");\n      return;\n    }\n\n    const fetchPost = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(`https://webapp396758.ip-45-33-113-78.cloudezapp.io/public/api/posts/${postId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        console.log(\"Detalhes do post:\", response.data);\n        setPost(response.data.data); // Ajuste conforme a estrutura da resposta\n      } catch (err) {\n        console.error(\"Erro ao buscar post:\", err);\n        setError(err.response?.data?.message || \"Erro ao carregar o post.\");\n      }\n    };\n\n    fetchPost();\n  }, [postId, user, loading]);\n\n  if (error) {\n    return (\n      <Row className=\"justify-content-center\">\n        <Col md={12} lg={12}>\n          <Alert variant=\"danger\">{error}</Alert>\n        </Col>\n      </Row>\n    );\n  }\n\n  if (loading || !post) {\n    return (\n      <Row className=\"justify-content-center\">\n        <Col md={12} lg={12}>\n          <div>Carregando...</div>\n        </Col>\n      </Row>\n    );\n  }\n\n  return (\n    <>\n      <PageMetaData title={`Visualizar Post - ${post.title}`} />\n      <Row className=\"justify-content-center\">\n        <Col md={12} lg={10}>\n          <Card className=\"mb-4\">\n            <Card.Header>\n              <h3>{post.title}</h3>\n              <small>Autor: {post.user?.name || \"Desconhecido\"}</small>\n            </Card.Header>\n            <Card.Body>\n              <p><strong>Categoria:</strong> {post.category?.name || \"Sem categoria\"}</p>\n              <p><strong>Status:</strong> {post.status}</p>\n              {post.image && (\n                <img\n                  src={`https://webapp396758.ip-45-33-113-78.cloudezapp.io/storage/${post.image}`}\n                  alt={post.title}\n                  style={{ maxWidth: \"100%\", marginBottom: \"15px\" }}\n                />\n              )}\n              {post.video_url && (\n                <p><strong>Video URL:</strong> <a href={post.video_url} target=\"_blank\" rel=\"noopener noreferrer\">{post.video_url}</a></p>\n              )}\n              {post.audio_url && (\n                <p><strong>Audio URL:</strong> <a href={post.audio_url} target=\"_blank\" rel=\"noopener noreferrer\">{post.audio_url}</a></p>\n              )}\n              <div dangerouslySetInnerHTML={{ __html: post.content }} />\n            </Card.Body>\n            <Card.Footer>\n              <small>Publicado em: {new Date(post.created_at).toLocaleDateString()}</small>\n            </Card.Footer>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default VisualizarPost;\n"],"names":["VisualizarPost","postId","useParams","user","loading","useAuthContext","post","setPost","useState","error","setError","useEffect","token","response","axios","err","_b","_a","Row","jsx","Col","Alert","jsxs","Fragment","PageMetaData","Card"],"mappings":"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"}