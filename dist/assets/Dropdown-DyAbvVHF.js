import{y as F,r as a,j as x,z as ge,i as M,k as O,B as J,D as we}from"./index-UUiNTc0V.js";import{d as Q,q}from"./DataKey-COGXBUcQ.js";import{$ as he,u as xe}from"./SSRProvider-IAODh1YM.js";import{u as ye}from"./usePrevious-BWb-eAjs.js";import{S as K,N as be,m as G,u as ve}from"./NavContext-BRvIv2qI.js";import{u as Ce,a as De,b as Ee}from"./useWindow-DJtzQdYK.js";import{u as ke,m as $e,a as je}from"./mergeOptionsWithPopperConfig-Cbe8MKVx.js";import{B as Ne}from"./Button-CuaOUBT4.js";import{u as Pe}from"./hook-QqkXmZtl.js";import{A as Re}from"./Anchor-CMDYpN7l.js";import{c as X}from"./InputGroupContext-Bpo_VHnx.js";import{c as Ie}from"./NavbarContext-BmmKdPPR.js";import{B as Te}from"./Button-BLYS8AP-.js";function Se(o,e,t,s=!1){const n=F(t);a.useEffect(()=>{const r=typeof o=="function"?o():o;return r.addEventListener(e,n,s),()=>r.removeEventListener(e,n,s)},[o])}const _=a.createContext(null),Me=["children","usePopper"];function Oe(o,e){if(o==null)return{};var t={},s=Object.keys(o),n,r;for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}const Ae=()=>{};function Y(o={}){const e=a.useContext(_),[t,s]=Ce(),n=a.useRef(!1),{flip:r,offset:u,rootCloseEvent:i,fixed:d=!1,placement:l,popperConfig:m={},enableEventListeners:c=!0,usePopper:y=!!e}=o,g=(e==null?void 0:e.show)==null?!!o.show:e.show;g&&!n.current&&(n.current=!0);const E=T=>{e==null||e.toggle(!1,T)},{placement:k,setMenu:C,menuElement:R,toggleElement:$}=e||{},w=ke($,R,$e({placement:l||k||"bottom-start",enabled:y,enableEvents:c??g,offset:u,flip:r,fixed:d,arrowElement:t,popperConfig:m})),I=Object.assign({ref:C||Ae,"aria-labelledby":$==null?void 0:$.id},w.attributes.popper,{style:w.styles.popper}),b={show:g,placement:k,hasShown:n.current,toggle:e==null?void 0:e.toggle,popper:y?w:null,arrowProps:y?Object.assign({ref:s},w.attributes.arrow,{style:w.styles.arrow}):{}};return je(R,E,{clickTrigger:i,disabled:!g}),[I,b]}function Z(o){let{children:e,usePopper:t=!0}=o,s=Oe(o,Me);const[n,r]=Y(Object.assign({},s,{usePopper:t}));return x.jsx(x.Fragment,{children:e(n,r)})}Z.displayName="DropdownMenu";const ee=o=>{var e;return((e=o.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},z=()=>{};function te(){const o=he(),{show:e=!1,toggle:t=z,setToggle:s,menuElement:n}=a.useContext(_)||{},r=a.useCallback(i=>{t(!e,i)},[e,t]),u={id:o,ref:s||z,onClick:r,"aria-expanded":!!e};return n&&ee(n)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:t}]}function oe({children:o}){const[e,t]=te();return x.jsx(x.Fragment,{children:o(e,t)})}oe.displayName="DropdownToggle";const Fe=["eventKey","disabled","onClick","active","as"];function We(o,e){if(o==null)return{};var t={},s=Object.keys(o),n,r;for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}function ne({key:o,href:e,active:t,disabled:s,onClick:n}){const r=a.useContext(K),u=a.useContext(be),{activeKey:i}=u||{},d=G(o,e),l=t==null&&o!=null?G(i)===d:t;return[{onClick:F(c=>{s||(n==null||n(c),r&&!c.isPropagationStopped()&&r(d,c))}),"aria-disabled":s||void 0,"aria-selected":l,[Q("dropdown-item")]:""},{isActive:l}]}const se=a.forwardRef((o,e)=>{let{eventKey:t,disabled:s,onClick:n,active:r,as:u=Ne}=o,i=We(o,Fe);const[d]=ne({key:t,href:i.href,disabled:s,onClick:n,active:r});return x.jsx(u,Object.assign({},i,{ref:e},d))});se.displayName="DropdownItem";function V(){const o=ve(),e=a.useRef(null),t=a.useCallback(s=>{e.current=s,o()},[o]);return[e,t]}function W({defaultShow:o,show:e,onSelect:t,onToggle:s,itemSelector:n=`* [${Q("dropdown-item")}]`,focusFirstItemOnShow:r,placement:u="bottom-start",children:i}){const d=De(),[l,m]=xe(e,o,s),[c,y]=V(),g=c.current,[E,k]=V(),C=E.current,R=ye(l),$=a.useRef(null),w=a.useRef(!1),I=a.useContext(K),b=a.useCallback((p,f,v=f==null?void 0:f.type)=>{m(p,{originalEvent:f,source:v})},[m]),T=F((p,f)=>{t==null||t(p,f),b(!1,f,"select"),f.isPropagationStopped()||I==null||I(p,f)}),D=a.useMemo(()=>({toggle:b,placement:u,show:l,menuElement:g,toggleElement:C,setMenu:y,setToggle:k}),[b,u,l,g,C,y,k]);g&&R&&!l&&(w.current=g.contains(g.ownerDocument.activeElement));const h=F(()=>{C&&C.focus&&C.focus()}),N=F(()=>{const p=$.current;let f=r;if(f==null&&(f=c.current&&ee(c.current)?"keyboard":!1),f===!1||f==="keyboard"&&!/^key.+$/.test(p))return;const v=q(c.current,n)[0];v&&v.focus&&v.focus()});a.useEffect(()=>{l?N():w.current&&(w.current=!1,h())},[l,w,h,N]),a.useEffect(()=>{$.current=null});const A=(p,f)=>{if(!c.current)return null;const v=q(c.current,n);let P=v.indexOf(p)+f;return P=Math.max(0,Math.min(P,v.length)),v[P]};return Se(a.useCallback(()=>d.document,[d]),"keydown",p=>{var f,v;const{key:P}=p,S=p.target,L=(f=c.current)==null?void 0:f.contains(S),me=(v=E.current)==null?void 0:v.contains(S);if(/input|textarea/i.test(S.tagName)&&(P===" "||P!=="Escape"&&L||P==="Escape"&&S.type==="search")||!L&&!me||P==="Tab"&&(!c.current||!l))return;$.current=p.type;const B={originalEvent:p,source:p.type};switch(P){case"ArrowUp":{const j=A(S,-1);j&&j.focus&&j.focus(),p.preventDefault();return}case"ArrowDown":if(p.preventDefault(),!l)m(!0,B);else{const j=A(S,1);j&&j.focus&&j.focus()}return;case"Tab":ge(S.ownerDocument,"keyup",j=>{var H;(j.key==="Tab"&&!j.target||!((H=c.current)!=null&&H.contains(j.target)))&&m(!1,B)},{once:!0});break;case"Escape":P==="Escape"&&(p.preventDefault(),p.stopPropagation()),m(!1,B);break}}),x.jsx(K.Provider,{value:T,children:x.jsx(_.Provider,{value:D,children:i})})}W.displayName="Dropdown";W.Menu=Z;W.Toggle=oe;W.Item=se;const U=a.createContext({});U.displayName="DropdownContext";const re=a.forwardRef(({className:o,bsPrefix:e,as:t="hr",role:s="separator",...n},r)=>(e=M(e,"dropdown-divider"),x.jsx(t,{ref:r,className:O(o,e),role:s,...n})));re.displayName="DropdownDivider";const ae=a.forwardRef(({className:o,bsPrefix:e,as:t="div",role:s="heading",...n},r)=>(e=M(e,"dropdown-header"),x.jsx(t,{ref:r,className:O(o,e),role:s,...n})));ae.displayName="DropdownHeader";const ce=a.forwardRef(({bsPrefix:o,className:e,eventKey:t,disabled:s=!1,onClick:n,active:r,as:u=Re,...i},d)=>{const l=M(o,"dropdown-item"),[m,c]=ne({key:t,href:i.href,disabled:s,onClick:n,active:r});return x.jsx(u,{...i,...m,ref:d,className:O(e,l,c.isActive&&"active",s&&"disabled")})});ce.displayName="DropdownItem";const le=a.forwardRef(({className:o,bsPrefix:e,as:t="span",...s},n)=>(e=M(e,"dropdown-item-text"),x.jsx(t,{ref:n,className:O(o,e),...s})));le.displayName="DropdownItemText";function ue(o,e){return o}function ie(o,e,t){const s=t?"top-end":"top-start",n=t?"top-start":"top-end",r=t?"bottom-end":"bottom-start",u=t?"bottom-start":"bottom-end",i=t?"right-start":"left-start",d=t?"right-end":"left-end",l=t?"left-start":"right-start",m=t?"left-end":"right-end";let c=o?u:r;return e==="up"?c=o?n:s:e==="end"?c=o?m:l:e==="start"?c=o?d:i:e==="down-centered"?c="bottom":e==="up-centered"&&(c="top"),c}const de=a.forwardRef(({bsPrefix:o,className:e,align:t,rootCloseEvent:s,flip:n=!0,show:r,renderOnMount:u,as:i="div",popperConfig:d,variant:l,...m},c)=>{let y=!1;const g=a.useContext(Ie),E=M(o,"dropdown-menu"),{align:k,drop:C,isRTL:R}=a.useContext(U);t=t||k;const $=a.useContext(X),w=[];if(t)if(typeof t=="object"){const p=Object.keys(t);if(p.length){const f=p[0],v=t[f];y=v==="start",w.push(`${E}-${f}-${v}`)}}else t==="end"&&(y=!0);const I=ie(y,C,R),[b,{hasShown:T,popper:D,show:h,toggle:N}]=Y({flip:n,rootCloseEvent:s,show:r,usePopper:!g&&w.length===0,offset:[0,2],popperConfig:d,placement:I});if(b.ref=J(ue(c),b.ref),Ee(()=>{h&&(D==null||D.update())},[h]),!T&&!u&&!$)return null;typeof i!="string"&&(b.show=h,b.close=()=>N==null?void 0:N(!1),b.align=t);let A=m.style;return D!=null&&D.placement&&(A={...m.style,...b.style},m["x-placement"]=D.placement),x.jsx(i,{...m,...b,style:A,...(w.length||g)&&{"data-bs-popper":"static"},className:O(e,E,h&&"show",y&&`${E}-end`,l&&`${E}-${l}`,...w)})});de.displayName="DropdownMenu";const pe=a.forwardRef(({bsPrefix:o,split:e,className:t,childBsPrefix:s,as:n=Te,...r},u)=>{const i=M(o,"dropdown-toggle"),d=a.useContext(_);s!==void 0&&(r.bsPrefix=s);const[l]=te();return l.ref=J(l.ref,ue(u)),x.jsx(n,{className:O(t,i,e&&`${i}-split`,(d==null?void 0:d.show)&&"show"),...l,...r})});pe.displayName="DropdownToggle";const fe=a.forwardRef((o,e)=>{const{bsPrefix:t,drop:s="down",show:n,className:r,align:u="start",onSelect:i,onToggle:d,focusFirstItemOnShow:l,as:m="div",navbar:c,autoClose:y=!0,...g}=Pe(o,{show:"onToggle"}),E=a.useContext(X),k=M(t,"dropdown"),C=we(),R=D=>y===!1?D==="click":y==="inside"?D!=="rootClose":y==="outside"?D!=="select":!0,$=F((D,h)=>{var N;!((N=h.originalEvent)==null||(N=N.target)==null)&&N.classList.contains("dropdown-toggle")&&h.source==="mousedown"||(h.originalEvent.currentTarget===document&&(h.source!=="keydown"||h.originalEvent.key==="Escape")&&(h.source="rootClose"),R(h.source)&&(d==null||d(D,h)))}),I=ie(u==="end",s,C),b=a.useMemo(()=>({align:u,drop:s,isRTL:C}),[u,s,C]),T={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return x.jsx(U.Provider,{value:b,children:x.jsx(W,{placement:I,show:n,onSelect:i,onToggle:$,focusFirstItemOnShow:l,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:E?g.children:x.jsx(m,{...g,ref:e,className:O(r,n&&"show",T[s])})})})});fe.displayName="Dropdown";const Ze=Object.assign(fe,{Toggle:pe,Menu:de,Item:ce,ItemText:le,Divider:re,Header:ae});export{Ze as D,pe as a,de as b,ce as c,re as d};
//# sourceMappingURL=Dropdown-DyAbvVHF.js.map
