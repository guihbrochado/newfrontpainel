import{G as ge,J as be,s as _,r as i,j as d,H as Ge,y as p,K as ve,V as ke,p as Ve,i as j,k as y,U as ze,Q as Xe,B as Ye,D as qe,W as Me,S as xe,z as Je,X as Qe}from"./index-BCS0cig_.js";import{a as Oe,c as Re,u as Ze}from"./useWindow-BOkGfrdz.js";import{u as Pe}from"./usePrevious-CoDrhLx9.js";import{d as et,q as B}from"./DataKey-COGXBUcQ.js";import{u as tt,i as nt,r as Te,h as ot}from"./hasClass-BYYRATLY.js";var P;function we(t){if((!P&&P!==0||t)&&ge){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),P=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return P}function ue(t){t===void 0&&(t=be());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function at(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Ce=et("modal-open");class me{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return at(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[o]:a.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(_(a,o)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(Ce,""),_(a,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Ce),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const st=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function rt(t,e){if(t==null)return{};var n={},o=Object.keys(t),a,r;for(r=0;r<o.length;r++)a=o[r],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}let fe;function it(t){return fe||(fe=new me({ownerDocument:t==null?void 0:t.document})),fe}function lt(t){const e=Oe(),n=t||it(e),o=i.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:i.useCallback(a=>{o.current.dialog=a},[]),setBackdropRef:i.useCallback(a=>{o.current.backdrop=a},[])})}const Se=i.forwardRef((t,e)=>{let{show:n=!1,role:o="dialog",className:a,style:r,children:E,backdrop:f=!0,keyboard:v=!0,onBackdropClick:T,onEscapeKeyDown:h,transition:D,runTransition:M,backdropTransition:w,runBackdropTransition:ee,autoFocus:K=!0,enforceFocus:te=!0,restoreFocus:C=!0,restoreFocusOptions:ne,renderDialog:U,renderBackdrop:oe=l=>d.jsx("div",Object.assign({},l)),manager:ae,container:se,onShow:G,onHide:L=()=>{},onExit:re,onExited:F,onExiting:V,onEnter:z,onEntering:X,onEntered:Y}=t,ie=rt(t,st);const g=Oe(),N=tt(se),c=lt(ae),le=Ge(),q=Pe(n),[R,b]=i.useState(!n),u=i.useRef(null);i.useImperativeHandle(e,()=>c,[c]),ge&&!q&&n&&(u.current=ue(g==null?void 0:g.document)),n&&R&&b(!1);const m=p(()=>{if(c.add(),k.current=ve(document,"keydown",ce),I.current=ve(document,"focus",()=>setTimeout(de),!0),G&&G(),K){var l,Z;const $=ue((l=(Z=c.dialog)==null?void 0:Z.ownerDocument)!=null?l:g==null?void 0:g.document);c.dialog&&$&&!Re(c.dialog,$)&&(u.current=$,c.dialog.focus())}}),W=p(()=>{if(c.remove(),k.current==null||k.current(),I.current==null||I.current(),C){var l;(l=u.current)==null||l.focus==null||l.focus(ne),u.current=null}});i.useEffect(()=>{!n||!N||m()},[n,N,m]),i.useEffect(()=>{R&&W()},[R,W]),ke(()=>{W()});const de=p(()=>{if(!te||!le()||!c.isTopModal())return;const l=ue(g==null?void 0:g.document);c.dialog&&l&&!Re(c.dialog,l)&&c.dialog.focus()}),J=p(l=>{l.target===l.currentTarget&&(T==null||T(l),f===!0&&L())}),ce=p(l=>{v&&nt(l)&&c.isTopModal()&&(h==null||h(l),l.defaultPrevented||L())}),I=i.useRef(),k=i.useRef(),Q=(...l)=>{b(!0),F==null||F(...l)};if(!N)return null;const x=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},ie,{style:r,className:a,tabIndex:-1});let H=U?U(x):d.jsx("div",Object.assign({},x,{children:i.cloneElement(E,{role:"document"})}));H=Te(D,M,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:re,onExiting:V,onExited:Q,onEnter:z,onEntering:X,onEntered:Y,children:H});let O=null;return f&&(O=oe({ref:c.setBackdropRef,onClick:J}),O=Te(w,ee,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:O})),d.jsx(d.Fragment,{children:Ve.createPortal(d.jsxs(d.Fragment,{children:[O,H]}),N)})});Se.displayName="Modal";const dt=Object.assign(Se,{Manager:me});function ct(t,e){t.classList?t.classList.add(e):ot(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ne(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ut(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Ne(t.className,e):t.setAttribute("class",Ne(t.className&&t.className.baseVal||"",e))}const A={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ft extends me{adjustAndStore(e,n,o){const a=n.style[e];n.dataset[e]=a,_(n,{[e]:`${parseFloat(_(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],_(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(ct(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";B(n,A.FIXED_CONTENT).forEach(r=>this.adjustAndStore(o,r,e.scrollBarWidth)),B(n,A.STICKY_CONTENT).forEach(r=>this.adjustAndStore(a,r,-e.scrollBarWidth)),B(n,A.NAVBAR_TOGGLER).forEach(r=>this.adjustAndStore(a,r,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();ut(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";B(n,A.FIXED_CONTENT).forEach(r=>this.restore(o,r)),B(n,A.STICKY_CONTENT).forEach(r=>this.restore(a,r)),B(n,A.NAVBAR_TOGGLER).forEach(r=>this.restore(a,r))}}let he;function ht(t){return he||(he=new ft(t)),he}const Be=i.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},a)=>(e=j(e,"modal-body"),d.jsx(n,{ref:a,className:y(t,e),...o})));Be.displayName="ModalBody";const Ae=i.createContext({onHide(){}}),pe=i.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:o,size:a,fullscreen:r,children:E,scrollable:f,...v},T)=>{t=j(t,"modal");const h=`${t}-dialog`,D=typeof r=="string"?`${t}-fullscreen-${r}`:`${t}-fullscreen`;return d.jsx("div",{...v,ref:T,className:y(h,e,a&&`${t}-${a}`,o&&`${h}-centered`,f&&`${h}-scrollable`,r&&D),children:d.jsx("div",{className:y(`${t}-content`,n),children:E})})});pe.displayName="ModalDialog";const je=i.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},a)=>(e=j(e,"modal-footer"),d.jsx(n,{ref:a,className:y(t,e),...o})));je.displayName="ModalFooter";const gt=i.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:a,...r},E)=>{const f=i.useContext(Ae),v=p(()=>{f==null||f.onHide(),o==null||o()});return d.jsxs("div",{ref:E,...r,children:[a,n&&d.jsx(ze,{"aria-label":t,variant:e,onClick:v})]})}),De=i.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:o=!1,...a},r)=>(t=j(t,"modal-header"),d.jsx(gt,{ref:r,...a,className:y(e,t),closeLabel:n,closeButton:o})));De.displayName="ModalHeader";const mt=Xe("h4"),Le=i.forwardRef(({className:t,bsPrefix:e,as:n=mt,...o},a)=>(e=j(e,"modal-title"),d.jsx(n,{ref:a,className:y(t,e),...o})));Le.displayName="ModalTitle";function pt(t){return d.jsx(xe,{...t,timeout:null})}function yt(t){return d.jsx(xe,{...t,timeout:null})}const Fe=i.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:o,contentClassName:a,children:r,dialogAs:E=pe,"data-bs-theme":f,"aria-labelledby":v,"aria-describedby":T,"aria-label":h,show:D=!1,animation:M=!0,backdrop:w=!0,keyboard:ee=!0,onEscapeKeyDown:K,onShow:te,onHide:C,container:ne,autoFocus:U=!0,enforceFocus:oe=!0,restoreFocus:ae=!0,restoreFocusOptions:se,onEntered:G,onExit:L,onExiting:re,onEnter:F,onEntering:V,onExited:z,backdropClassName:X,manager:Y,...ie},g)=>{const[N,c]=i.useState({}),[le,q]=i.useState(!1),R=i.useRef(!1),b=i.useRef(!1),u=i.useRef(null),[m,W]=Ze(),de=Ye(g,W),J=p(C),ce=qe();t=j(t,"modal");const I=i.useMemo(()=>({onHide:J}),[J]);function k(){return Y||ht({isRTL:ce})}function Q(s){if(!ge)return;const S=k().getScrollbarWidth()>0,Ee=s.scrollHeight>be(s).documentElement.clientHeight;c({paddingRight:S&&!Ee?we():void 0,paddingLeft:!S&&Ee?we():void 0})}const x=p(()=>{m&&Q(m.dialog)});ke(()=>{Me(window,"resize",x),u.current==null||u.current()});const H=()=>{R.current=!0},O=s=>{R.current&&m&&s.target===m.dialog&&(b.current=!0),R.current=!1},l=()=>{q(!0),u.current=Qe(m.dialog,()=>{q(!1)})},Z=s=>{s.target===s.currentTarget&&l()},$=s=>{if(w==="static"){Z(s);return}if(b.current||s.target!==s.currentTarget){b.current=!1;return}C==null||C()},We=s=>{ee?K==null||K(s):(s.preventDefault(),w==="static"&&l())},Ie=(s,S)=>{s&&Q(s),F==null||F(s,S)},He=s=>{u.current==null||u.current(),L==null||L(s)},$e=(s,S)=>{V==null||V(s,S),Je(window,"resize",x)},_e=s=>{s&&(s.style.display=""),z==null||z(s),Me(window,"resize",x)},Ke=i.useCallback(s=>d.jsx("div",{...s,className:y(`${t}-backdrop`,X,!M&&"show")}),[M,X,t]),ye={...n,...N};ye.display="block";const Ue=s=>d.jsx("div",{role:"dialog",...s,style:ye,className:y(e,t,le&&`${t}-static`,!M&&"show"),onClick:w?$:void 0,onMouseUp:O,"data-bs-theme":f,"aria-label":h,"aria-labelledby":v,"aria-describedby":T,children:d.jsx(E,{...ie,onMouseDown:H,className:o,contentClassName:a,children:r})});return d.jsx(Ae.Provider,{value:I,children:d.jsx(dt,{show:D,ref:de,backdrop:w,container:ne,keyboard:!0,autoFocus:U,enforceFocus:oe,restoreFocus:ae,restoreFocusOptions:se,onEscapeKeyDown:We,onShow:te,onHide:C,onEnter:Ie,onEntering:$e,onEntered:G,onExit:He,onExiting:re,onExited:_e,manager:k(),transition:M?pt:void 0,backdropTransition:M?yt:void 0,renderBackdrop:Ke,renderDialog:Ue})})});Fe.displayName="Modal";const wt=Object.assign(Fe,{Body:Be,Header:De,Title:Le,Footer:je,Dialog:pe,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{wt as M,De as a,Le as b,Be as c,je as d};
//# sourceMappingURL=Modal-OU7kPsZL.js.map
